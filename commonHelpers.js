var f=(n,t,e)=>{if(!t.has(n))throw TypeError("Cannot "+e)};var o=(n,t,e)=>(f(n,t,"read from private field"),e?e.call(n):t.get(n)),a=(n,t,e)=>{if(t.has(n))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(n):t.set(n,e)},p=(n,t,e,i)=>(f(n,t,"write to private field"),i?i.call(n,e):t.set(n,e),e);var E=(n,t,e)=>(f(n,t,"access private method"),e);import"./assets/modulepreload-polyfill-3cfb730f.js";/* empty css                      */import{f as v,i as L}from"./assets/vendor-ff3e2015.js";const k="/goit-js-hw-10/assets/izitoast-icon-9b7353b3.svg",w="/goit-js-hw-10/assets/izitoast-close-4cebbc46.svg",x={startButton:document.querySelector("[data-start]"),input:document.querySelector("#datetime-picker"),daysElement:document.querySelector("[data-days]"),hoursElement:document.querySelector("[data-hours]"),minutesElement:document.querySelector("[data-minutes]"),secondsElement:document.querySelector("[data-seconds]")};var c,u,r,l,m,h,b,g,S;const s=class s{constructor(t,e){a(this,h);a(this,g);a(this,m,null);this.hoursElement=e.hoursElement,this.minutesElement=e.minutesElement,this.secondsElement=e.secondsElement,this.startButton=e.startButton,this.input=e.input,this.daysElement=e.daysElement,this.days=t.getDate()||0,this.hours=t.getHours()||0,this.minutes=t.getMinutes()||0,this.seconds=t.getSeconds()||0}static isValidDate(t){return t-Date.now()>0}static addLeadingZero(t){return t.padStart(2,"0")}startTimer(t){s.isValidDate(t)&&(this.startButton.classList.remove("js-enabled"),this.input.classList.add("js-disabled"),this.input.disabled=!0,p(this,m,setInterval(()=>{const e=t-Date.now(),i=E(this,h,b).call(this,e);console.log("tick"),this.daysElement.textContent=s.addLeadingZero(String(i.days)),this.hoursElement.textContent=s.addLeadingZero(String(i.hours)),this.minutesElement.textContent=s.addLeadingZero(String(i.minutes)),this.secondsElement.textContent=s.addLeadingZero(String(i.seconds)),s.isValidDate(t)||(this.input.disabled=!1,document.querySelector("#datetime-picker").classList.remove("js-disabled"),E(this,g,S).call(this))},1e3)))}};c=new WeakMap,u=new WeakMap,r=new WeakMap,l=new WeakMap,m=new WeakMap,h=new WeakSet,b=function(t){const e=Math.floor(t/o(s,l)),i=Math.floor(t%o(s,l)/o(s,r)),B=Math.floor(t%o(s,l)%o(s,r)/o(s,u)),C=Math.floor(t%o(s,l)%o(s,r)%o(s,u)/o(s,c));return{days:e,hours:i,minutes:B,seconds:C}},g=new WeakSet,S=function(){clearInterval(o(this,m)),this.daysElement.textContent="00",this.hoursElement.textContent="00",this.minutesElement.textContent="00",this.secondsElement.textContent="00"},a(s,c,1e3),a(s,u,o(s,c)*60),a(s,r,o(s,u)*60),a(s,l,o(s,r)*24);let d=s;v("#datetime-picker",{enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose:D});function D(n){console.log(n[0]);const t=Date.now(),e=new d(n[0],x);if(!d.isValidDate(n[0])){y("Please choose a date in the future");return}const i=setTimeout(()=>{e.startButton.classList.remove("js-enabled"),e.startButton.disabled=!0,y("Selected date is not valid anymore")},n[0]-t);d.isValidDate(n[0])&&(e.startButton.classList.add("js-enabled"),e.startButton.disabled=!1,e.startButton.addEventListener("click",()=>{clearTimeout(i),e.startTimer(n[0])}))}function y(n){L.show({class:"js-izitoast-message",message:n,messageColor:"#FFFFFF",messageSize:"16px",position:"topRight",backgroundColor:"#EF4040",progressBarColor:"#B51B1B",iconUrl:k,displayMode:"replace",close:!1,closeOnEscape:!0,pauseOnHover:!1,buttons:[[`<button type="button" style="background-color: transparent;"><img src=${w}></button>`,function(t,e){t.hide({transitionOut:"fadeOut"},e)}]]})}
//# sourceMappingURL=commonHelpers.js.map
